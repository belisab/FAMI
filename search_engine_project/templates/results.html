<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Results</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">
</head>
<body>
  <header>
    <div id="search-info">
    <h1>Results for</h1>
    <p><b>query:</b> "{{ query }}"</p>
    <p><b>with search method:</b> "{{ method }}"</p>
    </div>

    <a id="link-back" href="{{ url_for('search') }}">Back to search</a>
  </header>

  <main>


    <div class="charts-row">
    {% if plot_file %}
      <figure id="release-year-chart">
        <h2>Release Year Distribution</h2>
        <img src="{{ url_for('static', filename=plot_file) }}" alt="Bar chart">
      </figure>
    {% endif %}

    {% if pie_plot %}
      <figure id="venue-type-chart">
        <h2>Venue Type Distribution</h2>
        <img src="{{ url_for('static', filename=pie_plot) }}" alt="Pie chart">
      </figure>
    {% endif %}
    </div>

    {% if results and results|length > 0 %}
      <ol class="results-grid">
        {% for r in results %}
          <li class="result-box">
            <a href="{{ url_for('musical', index=r['index']) }}">{{ r["title"] }}</a>

            {% if r.tags %}
            <div class="tags">
              {% for tag in r.tags %}
                <span class="tag">{{ tag }}</span>
              {% endfor %}
            </div>
            {% endif %}
          </li>
        {% endfor %}
      </ol>
    {% else %}
      <p>No results.</p>
    {% endif %}





  </main>

  {% include "footer.html" %}
</body>
</html>
